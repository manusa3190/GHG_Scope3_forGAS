<script>

export default defineStore('useTables',()=>{
  const 自所属原資材docs = ref({})
  const 構成docs = ref({})

  const sync自所属原資材docs = async(data)=> new Promise((resolve,reject) => {
    google.script.run
      .withSuccessHandler(res=>{
        自所属原資材docs.value= structuredClone(res)
        resolve()
      })
      .withFailureHandler(err=>{
        reject(`sync自所属原資材docsでエラー。${err}\n`)
      })
      .sync自所属原資材docs(data)

  })

  const sync構成docs = async(data)=> new Promise((resolve,reject) => {
    google.script.run
      .withSuccessHandler(res=>{
        構成docs.value=structuredClone(res)
        resolve()
      })
      .withFailureHandler(err=>{
        reject(`sync構成docsでエラー。${err}\n`)
      })
      .sync構成docs(data)
  })

  return {自所属原資材docs, 構成docs, sync自所属原資材docs, sync構成docs}
})

</script>